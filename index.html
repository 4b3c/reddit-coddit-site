<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Coddit 3.0</title>
		<style type="text/css">
			table, th, td {
				border:  1px solid black;
				color: white;
			}
		</style>
		<style type="text/css">
			.bold {
				color: white;
				font: bold;
				size: 40;
			}
		</style>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>

	</head>

	<body style="background-color: #1f3e4c;">
		<section>
			<h1 class="bold">Activity list on r/TeenagersButPog</h1>
			<h1 class="bold">October is here!! ðŸ¥³ðŸ¥³ðŸ¥³</h1>
			<a href="index.html">
				<img src="https://cdn.discordapp.com/attachments/826709575985266700/887905880618721280/contributions.png" alt="Sort by contributions" width=260 height= "40">
			</a>
			<a href="by_comment.html">
				<img src="https://cdn.discordapp.com/attachments/826709575985266700/887905877548498994/comments.png" alt="Sort by comments" width=230 height= "40">
			</a>
			<a href="by_post.html">
				<img src="https://cdn.discordapp.com/attachments/826709575985266700/887905882489356298/posts.png" alt="Sort by posts" width=180 height= "40">
			</a>
			<a href="newCoddit.html">
				<img src="https://cdn.discordapp.com/attachments/826709575985266700/892618560604614706/unknown.png" alt="Last 24 hours" width=170 height= "40">
			</a>

			<table id="user_data" style="width:70%">
				<tr>
					<td>Rank:</td>
					<td>Username:</td>
					<td>Posts:</td>
					<td>Comments:</td>
					<td>Total:</td>
				</tr>

			<script>
				$(document).ready(function () {
					$.getJSON("data.json", function (data) {
						var sortable = [];
						for (var user in data) {
							sortable.push([user, data[user][0], data[user][1]]);
						}

						console.log(sortable);

						sortable.sort(function(a, b) {return (b[1]+b[2]) - (a[1]+a[2])});

						console.log(sortable);

						for (var i = 0; i < sortable.length - 1; i++) {
							var student = "<tr><td>";
							student += i + 1;
							student += "</td><td>";
							student += sortable[i][0];
							student += "</td><td>";
							student += sortable[i][1];
							student += "</td><td>";
							student += sortable[i][2];
							student += "</td><td>";
							student += sortable[i][1] + sortable[i][2];
							student += "</td></tr>";


		                    $('#user_data').append(student);
		                };
	                });
                });
			</script>

		</section>
	</body>
</html>